<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Explore Correlations Between Variables in a Machine Learning Model â€¢ corrgrapher</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- dalexverse --><link href="dalexverse.css" rel="stylesheet">
<link href="dalexverse-2.css" rel="stylesheet">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Explore Correlations Between Variables in a Machine Learning Model">
<meta property="og:description" content="When exploring data or models we often examine variables one by one. 
  This analysis is incomplete if the relationship between these variables is 
  not taken into account. The corrgrapher package facilitates simultaneous 
  exploration of the Partial Dependence Profiles and the correlation between 
  variables in the model.
  The package corrgrapher is a part of the DrWhy.AI universe.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- google analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-5650686-14"></script><script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-5650686-14');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="index.html">corrgrapher</a>
        <div class="info">
          <span class="partof">part of the <a href="https://github.com/ModelOriented/DrWhy">DrWhy.AI</a>
           developed by the <a href="https://mi2.mini.pw.edu.pl/">MI^2 DataLab</a> </span>
          <span class="version version-default">1.0.0</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/Customization.html">Customization</a>
    </li>
    <li>
      <a href="articles/Introduction.html">Introduction to CorrGrapheR</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/ModelOriented/corrgrapher/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="corrgrapher-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#corrgrapher-" class="anchor"></a>corrgrapher <img src="reference/figures/logo.png" align="right" width="150">
</h1></div>
<!-- badges: start -->

<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>When exploring data or models we often examine variables one by one. This analysis is incomplete if the relationship between these variables is not taken into account. The corrgrapher package facilitates simultaneous exploration of the Partial Dependence Profiles and the correlation between variables in the model.</p>
<p>The package <a href="https://github.com/ModelOriented/corrgrapher">corrgrapher</a> is a part of the <a href="http://drwhy.ai/">DrWhy.AI</a> universe.</p>
</div>
<div id="the-solution---less-numbers-more-insights" class="section level2">
<h2 class="hasAnchor">
<a href="#the-solution---less-numbers-more-insights" class="anchor"></a>The solution - less numbers, more insights</h2>
<p>This package aims to plot correlations between variables in form of a graph. Each node on it is associated with single variable. Variables correlated with each other (positively and negatively alike) shall be close, and weakly correlated - far from each other.</p>
<p>It is achieved through a physical simulation, where the nodes are treated as points with mass (and are pushing each other away) and edges are treated as mass-less springs. The length of a spring depends on absolute value of correlation between connected nodes. The bigger the correlation, the shorter the spring.</p>
<p>When you click on the node of the graph you can view the distribution or the Partial Dependence Plot for the selected variable.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The easiest way to get <code>corrgrapher</code> is to install it from CRAN:</p>
<pre class="{r}"><code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages("corrgrapher")</a></code></pre>
<p>Or the the development version from GitHub:</p>
<pre class="{r}"><code>devtools::install_github("ModelOriented/corrgrapher")</code></pre>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<p>First, load the package</p>
<pre><code><a href="https://rdrr.io/pkg/corrgrapher/man">library('corrgrapher')</a></code></pre>
<div id="for-data-sets" class="section level3">
<h3 class="hasAnchor">
<a href="#for-data-sets" class="anchor"></a>For data sets</h3>
<p>For data frames the <code>corrgrapher</code> shows correlation network and histograms/distributions for features.</p>
<pre><code>df &lt;- as.data.frame(datasets::Seatbelts)
cgr &lt;- corrgrapher(df)
cgr</code></pre>
<center>
<img src="https://github.com/ModelOriented/corrgrapher/raw/master/inst/corrgrapher1.gif">
</center>
</div>
<div id="for-models" class="section level3">
<h3 class="hasAnchor">
<a href="#for-models" class="anchor"></a>For models</h3>
<p>For models the <code>corrgrapher</code> shows partial dependencies. Use the <code><a href="https://rdrr.io/pkg/DALEX/man/explain.html">DALEX::explain()</a></code> function to create an adapter for any predictive model.</p>
<pre><code><a href="https://rdrr.io/pkg/DALEX/man">library(DALEX)
library(ranger)

titanic_rgr &lt;- ranger(survived ~ ., data = titanic_imputed, classification = TRUE)
titanic_exp &lt;- explain(titanic_rgr, data = titanic_imputed, y = titanic_imputed$survived, verbose = FALSE)
cgr &lt;- corrgrapher(titanic_exp)
cgr</a></code></pre>
<center>
<img src="https://github.com/ModelOriented/corrgrapher/raw/master/inst/corrgrapher2.gif">
</center>
</div>
</div>
<div id="see-also" class="section level2">
<h2 class="hasAnchor">
<a href="#see-also" class="anchor"></a>See also</h2>
<p>Feel free to take a look at articles about <a href="https://modeloriented.github.io/corrgrapher/articles/Introduction.html">introduction</a> and <a href="https://modeloriented.github.io/corrgrapher/articles/Customization.html">customization</a> at <a href="https://modeloriented.github.io/corrgrapher/index.html">package site</a>.</p>
</div>
<div id="acknowledgments" class="section level2">
<h2 class="hasAnchor">
<a href="#acknowledgments" class="anchor"></a>Acknowledgments</h2>
<p>Work on this package was financially supported by the Polish National Science Centre under Opus Grant number 2017/27/B/ST6/0130.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/ModelOriented/corrgrapher/">https://â€‹github.com/â€‹ModelOriented/â€‹corrgrapher/â€‹</a>
</li>
<li>Report a bug at <br><a href="https://github.com/ModelOriented/corrgrapher/issues">https://â€‹github.com/â€‹ModelOriented/â€‹corrgrapher/â€‹issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 2)</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Pawel Morgen <br><small class="roles"> Author, maintainer </small>  </li>
<li>Przemyslaw Biecek <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ModelOriented/corrgrapher/actions?query=workflow%3AR-CMD-check"><img src="https://github.com/ModelOriented/corrgrapher/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://travis-ci.org/ModelOriented/corrgrapher"><img src="https://travis-ci.org/ModelOriented/corrgrapher.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://codecov.io/gh/ModelOriented/corrgrapher?branch=master"><img src="https://codecov.io/gh/ModelOriented/corrgrapher/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Pawel Morgen, Przemyslaw Biecek.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
